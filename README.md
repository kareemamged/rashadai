<div align="center">
  <h1>RashadAI - منصة استشارات طبية ذكية</h1>
  <p>
    <strong>استشارات طبية ذكية مدعومة بالذكاء الاصطناعي | متاحة باللغتين العربية والإنجليزية</strong>
  </p>
  <p>
    <a href="https://rashadai.vercel.app">موقع المشروع</a>
    ·
    <a href="https://github.com/yourusername/rashadai/issues">الإبلاغ عن مشكلة</a>
    ·
    <a href="https://github.com/yourusername/rashadai/issues">طلب ميزة</a>
  </p>
</div>

## 📋 جدول المحتويات

- [✨ نظرة عامة](#-نظرة-عامة)
- [🚀 الميزات الرئيسية](#-الميزات-الرئيسية)
- [🛠️ التقنيات المستخدمة](#️-التقنيات-المستخدمة)
- [🔧 إعداد المشروع](#-إعداد-المشروع)
- [📊 لوحة تحكم المسؤول](#-لوحة-تحكم-المسؤول)
- [🌐 دعم اللغات](#-دعم-اللغات)
- [🔐 الأمان والخصوصية](#-الأمان-والخصوصية)
- [📱 التوافق مع الأجهزة المحمولة](#-التوافق-مع-الأجهزة-المحمولة)
- [🧩 هيكل المشروع](#-هيكل-المشروع)
- [🤝 المساهمة](#-المساهمة)
- [📄 الترخيص](#-الترخيص)
- [📞 التواصل](#-التواصل)

## ✨ نظرة عامة

**RashadAI** هي منصة استشارات طبية ذكية تستخدم الذكاء الاصطناعي لتقديم استشارات طبية أولية للمستخدمين. المنصة تتيح للمستخدمين التواصل مع الذكاء الاصطناعي للحصول على معلومات طبية عامة وإرشادات صحية، مع التركيز على سهولة الاستخدام والوصول للمعلومات الطبية بطريقة آمنة وموثوقة.

تم تصميم المنصة لتكون متاحة باللغتين العربية والإنجليزية، مع واجهة مستخدم سهلة الاستخدام ومتوافقة مع جميع الأجهزة. كما تم تطوير المنصة وفقاً لأعلى معايير الأمان والخصوصية، مع الالتزام بمعايير HIPAA للحفاظ على خصوصية بيانات المستخدمين.

## 🚀 الميزات الرئيسية

### 👥 نظام المستخدمين
- **تسجيل وتسجيل دخول** - نظام تسجيل متكامل مع التحقق من البريد الإلكتروني
- **الملفات الشخصية** - إدارة كاملة للملف الشخصي مع إمكانية تحميل الصور وتحديث المعلومات
- **تغيير كلمة المرور** - آلية آمنة لتغيير كلمة المرور واستعادتها
- **إعدادات المستخدم** - تخصيص تجربة المستخدم وفقاً لتفضيلاته

### 💬 نظام المحادثة الذكي
- **محادثة مباشرة** - واجهة محادثة سهلة الاستخدام للتواصل مع الذكاء الاصطناعي
- **سجل المحادثات** - حفظ وعرض سجل المحادثات السابقة
- **تصدير المحادثات** - إمكانية تصدير المحادثات بتنسيقات مختلفة
- **التسجيل الصوتي** - إمكانية إرسال رسائل صوتية للذكاء الاصطناعي
- **حفظ الرسائل المهمة** - إمكانية حفظ الرسائل المهمة للرجوع إليها لاحقاً

### 📝 المدونة الطبية
- **مقالات طبية** - مقالات طبية موثوقة بلغة مبسطة
- **تصنيفات** - تصنيف المقالات حسب المواضيع
- **التعليقات** - إمكانية التعليق على المقالات
- **الإعجاب والمشاركة** - تفاعل المستخدمين مع المحتوى

### ⚙️ لوحة تحكم المسؤول
- **إدارة المستخدمين** - إضافة، تعديل، حظر المستخدمين
- **إدارة المحتوى** - التحكم في محتوى الموقع
- **إدارة المقالات** - نشر وتحرير المقالات
- **الإحصائيات** - عرض إحصائيات استخدام المنصة
- **إعدادات النظام** - ضبط إعدادات المنصة

### 🌐 تعدد اللغات
- **واجهة ثنائية اللغة** - دعم كامل للغتين العربية والإنجليزية
- **تبديل اللغة** - تبديل سلس بين اللغات
- **محتوى مترجم** - جميع المحتوى متوفر باللغتين

### 📱 تصميم متجاوب
- **متوافق مع جميع الأجهزة** - تجربة مستخدم متناسقة على الحواسيب والهواتف والأجهزة اللوحية
- **تصميم عصري** - واجهة مستخدم جذابة وسهلة الاستخدام
- **سرعة التحميل** - أداء محسن لسرعة تحميل الصفحات

## 🛠️ التقنيات المستخدمة

### الواجهة الأمامية
- **React.js** - مكتبة JavaScript لبناء واجهات المستخدم
- **Bootstrap** - إطار عمل CSS للتصميم المتجاوب
- **i18next** - مكتبة لدعم تعدد اللغات
- **Zustand** - مكتبة لإدارة حالة التطبيق
- **React Router** - للتنقل بين صفحات التطبيق
- **Axios** - للتعامل مع طلبات HTTP

### الخدمات الخلفية
- **Supabase** - منصة Backend-as-a-Service للمصادقة وقاعدة البيانات
- **PostgreSQL** - نظام إدارة قواعد البيانات
- **OpenAI API** - لتوفير خدمات الذكاء الاصطناعي
- **Vercel** - لاستضافة ونشر التطبيق

## 🔧 إعداد المشروع

### المتطلبات الأساسية
- Node.js (الإصدار 14 أو أحدث)
- npm أو yarn
- حساب Supabase
- حساب Vercel (للنشر)

### خطوات التثبيت

1. **استنساخ المشروع**:
```bash
git clone https://github.com/yourusername/rashadai.git
cd rashadai/projectv6
```

2. **تثبيت الاعتمادات**:
```bash
npm install
# أو
yarn install
```

3. **إعداد المتغيرات البيئية**:
   - قم بإنشاء ملف `.env.local` في المجلد الرئيسي
   - أضف المتغيرات البيئية التالية:
```
REACT_APP_SUPABASE_URL=https://your-supabase-url.supabase.co
REACT_APP_SUPABASE_ANON_KEY=your-supabase-anon-key
REACT_APP_OPENAI_API_KEY=your-openai-api-key
```

4. **إعداد خدمة البريد الإلكتروني باستخدام SMTP مباشرة**:
   - اتبع التعليمات المفصلة في ملف [SMTP_SETUP.md](./SMTP_SETUP.md)
   - قم بتشغيل خادم البريد الإلكتروني:
```bash
cd server
npm install
npm run dev
```

5. **إعداد قاعدة البيانات**:
   - اتبع التعليمات في ملف [SUPABASE_SETUP.md](./SUPABASE_SETUP.md)
   - قم بتنفيذ الكود SQL الموجود في ملف [setup_profiles_table.sql](./setup_profiles_table.sql)

6. **إعداد نظام المدونة**:
   - قم بتنفيذ الكود SQL الموجود في ملف [supabase/create_exec_sql_function.sql](./supabase/create_exec_sql_function.sql)
   - قم بتنفيذ الكود SQL الموجود في ملف [supabase/blog_posts_table.sql](./supabase/blog_posts_table.sql)
   - قم بتنفيذ الكود SQL الموجود في ملف [supabase/add_blog_posts_foreign_key.sql](./supabase/add_blog_posts_foreign_key.sql)
   - أو قم بتنفيذ الأمر التالي لإعداد جداول المدونة تلقائياً:
   ```bash
   SUPABASE_SERVICE_KEY=your_service_key node setup_blog_tables.js
   ```

7. **تشغيل المشروع في وضع التطوير**:
```bash
npm start
# أو
yarn start
```

8. **بناء المشروع للإنتاج**:
```bash
npm run build
# أو
yarn build
```

### حل المشكلات الشائعة

#### مشكلة "Database error saving new user"

إذا واجهت مشكلة "Database error saving new user" عند محاولة تسجيل مستخدم جديد، فهذا يعني أن هناك مشكلة في إعداد جدول `profiles` في Supabase. لحل هذه المشكلة:

1. قم بتنفيذ الكود SQL الموجود في ملف [setup_profiles_table.sql](./setup_profiles_table.sql)
2. إذا واجهت خطأ "policy already exists"، قم بتنفيذ الكود الموجود في ملف [setup_profiles_trigger.sql](./setup_profiles_trigger.sql) بدلاً من ذلك

#### مشكلة استبدال صورة البروفايل عند تحديث البيانات

إذا كنت تواجه مشكلة استبدال صورة البروفايل المخصصة بصورة افتراضية عند تحديث بيانات الملف الشخصي، فقد تم إصلاح هذه المشكلة. للمزيد من المعلومات، راجع ملف [PROFILE_AVATAR_FIX.md](./PROFILE_AVATAR_FIX.md).

#### مشكلة "policy already exists" عند إعداد جداول المدونة

إذا واجهت خطأ "policy already exists" عند تنفيذ ملفات SQL لإعداد جداول المدونة، فهذا يعني أن السياسات موجودة بالفعل. يمكنك تجاهل هذه الأخطاء، أو استخدام الملفات المحدثة التي تتحقق من وجود السياسات قبل إنشائها:

1. قم بتنفيذ الكود SQL الموجود في ملف [supabase/blog_posts_table.sql](./supabase/blog_posts_table.sql)
2. قم بتنفيذ الكود SQL الموجود في ملف [supabase/add_blog_posts_foreign_key.sql](./supabase/add_blog_posts_foreign_key.sql)

#### مشكلة العلاقة بين جداول المدونة والمستخدمين

إذا واجهت مشكلة في العلاقة بين جداول المدونة وجدول المستخدمين، فقد تم إصلاح هذه المشكلة من خلال:

1. تعديل طريقة استعلام البيانات في ملف `ContentManagement.tsx`
2. إضافة علاقة foreign key بين جدول `blog_posts` وجدول `auth.users`
3. تحديث سياسات RLS للسماح بالوصول المناسب

للمزيد من المعلومات، راجع ملف [BLOG_SETUP_FIX.md](./BLOG_SETUP_FIX.md).

#### مشكلة الصلاحيات وسياسات RLS في Supabase

إذا واجهت خطأ 403 Forbidden أو "permission denied" عند محاولة الوصول إلى جداول المدونة، فقد تكون المشكلة في سياسات Row Level Security (RLS) في Supabase. لحل هذه المشكلة:

1. قم بتنفيذ الكود SQL الموجود في ملف [supabase/fix_blog_posts_rls.sql](./supabase/fix_blog_posts_rls.sql)
2. للمزيد من المعلومات حول سياسات RLS وكيفية إصلاحها، راجع ملف [SUPABASE_RLS_FIX.md](./SUPABASE_RLS_FIX.md)

## 📊 لوحة تحكم المسؤول

توفر لوحة تحكم المسؤول واجهة شاملة لإدارة جميع جوانب المنصة:

### الميزات الرئيسية للوحة التحكم
- **لوحة المعلومات** - عرض إحصائيات وتحليلات المنصة
- **إدارة المستخدمين** - عرض، تعديل، حظر المستخدمين
- **إدارة المحتوى** - التحكم في محتوى الصفحات
- **إدارة المقالات** - إنشاء، تحرير، نشر المقالات
- **إدارة التعليقات** - مراجعة واعتماد التعليقات
- **إدارة الإشعارات** - إرسال إشعارات للمستخدمين
- **إعدادات النظام** - ضبط إعدادات المنصة

### الوصول إلى لوحة التحكم
- يمكن الوصول إلى لوحة التحكم عبر الرابط `/admin`
- يتطلب الوصول حساب مسؤول مع صلاحيات خاصة
- يتم التحقق من صلاحيات المستخدم قبل السماح بالوصول

## 🌐 دعم اللغات

تم تصميم المنصة لتكون متاحة باللغتين العربية والإنجليزية بشكل كامل:

### ميزات دعم اللغات
- **واجهة ثنائية اللغة** - جميع عناصر الواجهة متوفرة باللغتين
- **تبديل اللغة** - زر لتبديل اللغة في أي وقت
- **اتجاه النص** - دعم كامل للغة العربية (RTL) والإنجليزية (LTR)
- **المحتوى** - جميع المحتوى متوفر باللغتين
- **رسائل النظام** - جميع رسائل النظام والتنبيهات متوفرة باللغتين

### إضافة لغات جديدة
يمكن إضافة لغات جديدة بسهولة من خلال:
1. إضافة ملفات الترجمة في مجلد `src/i18n/locales`
2. تحديث ملف `src/i18n/config.js` لإضافة اللغة الجديدة

## 🔐 الأمان والخصوصية

تم تطوير المنصة وفقاً لأعلى معايير الأمان والخصوصية:

### ميزات الأمان
- **مصادقة آمنة** - نظام تسجيل دخول آمن مع التحقق من البريد الإلكتروني
- **تشفير البيانات** - تشفير جميع البيانات الحساسة
- **حماية من الهجمات** - حماية من هجمات XSS و CSRF
- **سياسات أمان قاعدة البيانات** - سياسات Row Level Security (RLS) في Supabase

### الامتثال للمعايير
- **HIPAA** - الامتثال لمعايير HIPAA لحماية المعلومات الصحية
- **GDPR** - الامتثال للائحة العامة لحماية البيانات
- **سياسة الخصوصية** - سياسة خصوصية شاملة
- **سياسة ملفات تعريف الارتباط** - سياسة واضحة لاستخدام ملفات تعريف الارتباط

## 📱 التوافق مع الأجهزة المحمولة

تم تصميم المنصة لتوفير تجربة مستخدم متناسقة على جميع الأجهزة:

### ميزات التوافق
- **تصميم متجاوب** - يتكيف مع جميع أحجام الشاشات
- **واجهة مستخدم مبسطة** - سهولة الاستخدام على الأجهزة المحمولة
- **أداء محسن** - سرعة تحميل وأداء محسن على الأجهزة المحمولة
- **تجربة مستخدم متناسقة** - نفس الميزات والوظائف على جميع الأجهزة

## 🧩 هيكل المشروع

```
projectv6/
├── public/                  # الملفات العامة
├── src/                     # كود المصدر
│   ├── assets/              # الصور والأيقونات
│   ├── components/          # مكونات React المشتركة
│   │   ├── admin/           # مكونات لوحة تحكم المسؤول
│   │   ├── auth/            # مكونات المصادقة
│   │   ├── blog/            # مكونات المدونة
│   │   ├── chat/            # مكونات المحادثة
│   │   ├── common/          # مكونات مشتركة
│   │   ├── layout/          # مكونات التخطيط
│   │   └── profile/         # مكونات الملف الشخصي
│   ├── data/                # بيانات ثابتة
│   ├── hooks/               # React hooks مخصصة
│   ├── i18n/                # إعدادات وملفات الترجمة
│   │   └── locales/         # ملفات الترجمة
│   ├── lib/                 # مكتبات ووظائف مساعدة
│   ├── pages/               # صفحات التطبيق
│   │   ├── admin/           # صفحات لوحة تحكم المسؤول
│   │   ├── auth/            # صفحات المصادقة
│   │   ├── blog/            # صفحات المدونة
│   │   ├── legal/           # الصفحات القانونية
│   │   └── profile/         # صفحات الملف الشخصي
│   ├── store/               # مخازن Zustand
│   ├── styles/              # ملفات CSS
│   ├── types/               # تعريفات TypeScript
│   ├── utils/               # وظائف مساعدة
│   ├── App.tsx              # مكون التطبيق الرئيسي
│   └── index.tsx            # نقطة الدخول
├── .env.example             # مثال لملف المتغيرات البيئية
├── package.json             # تبعيات المشروع
├── README.md                # توثيق المشروع
├── SUPABASE_SETUP.md        # توثيق إعداد Supabase
├── setup_profiles_table.sql # SQL لإعداد جدول profiles
└── tsconfig.json            # إعدادات TypeScript
```

## 🤝 المساهمة

نرحب بمساهماتكم في تطوير هذا المشروع. يرجى اتباع الخطوات التالية:

1. قم بعمل fork للمشروع
2. قم بإنشاء فرع جديد للميزة التي تريد إضافتها (`git checkout -b feature/amazing-feature`)
3. قم بإجراء التغييرات اللازمة
4. قم بعمل commit للتغييرات (`git commit -m 'Add some amazing feature'`)
5. قم بدفع التغييرات إلى الفرع (`git push origin feature/amazing-feature`)
6. قم بإرسال طلب سحب (Pull Request)

### إرشادات المساهمة
- اتبع أسلوب الكود المستخدم في المشروع
- أضف تعليقات مناسبة للكود
- تأكد من أن الكود يعمل بشكل صحيح قبل إرسال طلب السحب
- أضف وصفاً مفصلاً للتغييرات في طلب السحب

## 📄 الترخيص

هذا المشروع مرخص تحت [ترخيص MIT](LICENSE).

## 📞 التواصل

- **الموقع**: [rashadai.vercel.app](https://rashadai.vercel.app)
- **البريد الإلكتروني**: contact@rashadai.com
- **تويتر**: [@RashadAI](https://twitter.com/RashadAI)
- **لينكد إن**: [RashadAI](https://linkedin.com/company/rashadai)

---

<div align="center">
  <p>تم تطويره بواسطة فريق RashadAI</p>
  <p>© 2023 RashadAI. جميع الحقوق محفوظة.</p>
</div>
